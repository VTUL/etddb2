<%= stylesheet_link_tag 'paginate' %>
<h1 style="float:left;">Listing reasons</h1>
<div id="page_pref" class ="top_bar" style="margin-top:28px">
  <%= form_tag reasons_path, :method => 'get' do %>
    Results Per Page: <%= select_tag :per_page, options_for_select(%w[10 20 50 100], @per_page),
         :onchange => "this.form.submit();" %>
  <% end %>
</div>
<%= will_paginate @reasons %>
<table style="clear: both;">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Months Until Warning</th>
    <th>Months Until Release</th>
  </tr>

<% @reasons.each do |reason| %>
  <tr>
    <td><%= reason.name %></td>
    <td><%= reason.description %></td>
    <% if reason.months_to_warning > 0 %>
        <td><%= reason.months_to_warning %></td>
    <% else %>
      <% if reason.months_to_warning < 0 %>
        <td>Never</td>
      <% else %>
        <td>Immediately</td>
      <% end %>
    <% end %>
    <% if reason.months_to_release > 0 %>
        <td><%= reason.months_to_release %></td>
    <% else %>
      <% if reason.months_to_release < 0 %>
        <td>Never</td>
      <% else %>
        <td>Immediately</td>
      <% end %>
    <% end %>
    <td><%= link_to 'Show', reason %></td>
    <td><%= link_to 'Edit', edit_reason_path(reason) %></td>
    <td><%= link_to 'Destroy', reason, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>
<br />

<%= link_to 'New Reason', new_reason_path %>
